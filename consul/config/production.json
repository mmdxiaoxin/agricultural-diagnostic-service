{
  "datacenter": "production",
  "data_dir": "/var/lib/consul",
  "log_level": "INFO",
  "node_name": "consul-server-1",
  "server": true,
  "bootstrap_expect": 3,
  "bind_addr": "0.0.0.0",
  "client_addr": "0.0.0.0",
  "advertise_addr": "{{ GetInterfaceIP \"eth0\" }}",
  "retry_join": ["consul-server-1", "consul-server-2", "consul-server-3"],
  "ui_config": {
    "enabled": true
  },
  "performance": {
    "raft_multiplier": 1
  },
  "limits": {
    "http_max_conns_per_client": 100,
    "rpc_rate": 100,
    "rpc_max_burst": 200
  },
  "telemetry": {
    "prometheus_retention_time": "24h",
    "disable_hostname": true
  },
  "acl": {
    "enabled": true,
    "default_policy": "deny",
    "enable_token_persistence": true
  },
  "encrypt": "{{ consul_encrypt_key }}",
  "verify_incoming": true,
  "verify_outgoing": true,
  "verify_server_hostname": true,
  "ca_file": "/etc/consul/certs/ca.crt",
  "cert_file": "/etc/consul/certs/server.crt",
  "key_file": "/etc/consul/certs/server.key",
  "ports": {
    "http": 8500,
    "https": 8501,
    "grpc": 8502,
    "dns": 8600,
    "serf_lan": 8301,
    "serf_wan": 8302,
    "server": 8300
  },
  "connect": {
    "enabled": true
  },
  "session_ttl_min": "10s",
  "reconnect_timeout": "72h",
  "reconnect_timeout_wan": "72h",
  "leave_on_terminate": false,
  "skip_leave_on_interrupt": false,
  "rejoin_after_leave": true,
  "enable_debug": false,
  "enable_syslog": true,
  "syslog_facility": "LOCAL0",
  "log_rotate_duration": "24h",
  "log_rotate_bytes": 104857600,
  "log_rotate_max_files": 10,
  "autopilot": {
    "cleanup_dead_servers": true,
    "last_contact_threshold": "200ms",
    "max_trailing_logs": 250,
    "server_stabilization_time": "10s",
    "redundancy_zone_tag": "az",
    "disable_upgrade_migration": false,
    "upgrade_version_tag": "version"
  }
}
